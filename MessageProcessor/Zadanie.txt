
 Файл задания...


 Необходимо реализовать возможность создание/изменение следующей
 командной структуры, представляющей собой наборы простых строк

 Значение=Имя файла изображения; [S:Имя звукового файла;] [N:Название события;] [A:0;] [C:0]

 [] - не обязательные параметры, которые могут отсутствовать

 Пример:

 0=1.jpg
 1=2.jpg; S:test.wav; N:Включение; A:0
 2=3.jpg; N:Авария


 Буквы S, N, A, C - латинские
 Параметр А (авария) - указывется только в формате  A:0
 Параметр С (команда) - числовое значение >= 0

 Необходимо уметь:

 1. Разбирать эту структуру в DBGrid для редактирования
 2. Собирать структуру из отредактированного DBGrid

 Мне показалось что DBGrid будет удобен для этого
 Как хранилище данных использовать FDMemTables мы его уже использовали во многих проектах

 Напоминаю хорошую статью по функциям FDMemTables
 http://delphiprogrammingdiary.blogspot.com/2018/11/tfdmemtable-better-alternative-to.html


 FDMemTables мне видится таблица из следующих полей

 Значение - string (да там может быть строка, а не только числа)
 ImageFile - string
 SounDFile - string
 AlertName - string
 Alert     - boolean  (0 или 1)
 Commanf   - integer

 Для возможности ввода файла изображения или файла звука нужно в DBGrid сделать
 кнопки

 Я пример показал как это делается

 dbgrd1.Columns[0].ButtonStyle:=cbsEllipsis;      <-  где кнопки
 dbgrd1.Columns[1].ButtonStyle:=cbsEllipsis;
 dbgrd1.OnEditButtonClick:= DBGrid1EditButtonClick;   <- обработчик

 В обработчике нужно вызывать TOpenDialog с возможностью выбора файла картинки или звука

 Предполагается, что эти файлы лежат в папках, путь к которым можно получить через
 вызов функций

 GetImageFolder
 GetWavFolder

 После выбора файла пользователем, следует определить относительный путь к этому файлу
 от папки с картинками, либо звуками

 Делается это с помощью функции ExtractRelativePath -
  Возвращает относительное имя файла относительно заданной базовой директории.

 Т.е для изображения надо в настройки записать результат функции

 ExtractRelativePath(GetImageFolder,dlgOpen1.Filename);

 имена файлов приводить в нижнему регистру:  FileName.jpg >>>  filename.jpg

 Кнопки

 В Таблицу - разбираем настройки, создаем таблицу

 В Текст - проходим таблицу, создаем командную структуру в memo

